---
layout: default
title: Archive
---
{% assign tags = site.tags | sort %}
<div class="archive">
  <h1>{{ page.title | escape }}</h1>
  {% assign year = nil %}{% assign month = nil %}
  {% for post in site.posts %}{% if post.date %}
    {% capture this_year %}{{ post.date | date: '%Y' }}{% endcapture %}
    {% capture this_month %}{{ post.date | date: '%m' }}{% endcapture %}
    {% capture prev_year %}{{ post.previous.date | date: '%Y' }}{% endcapture %}
    {% capture prev_month %}{{ post.previous.date | date: '%m' }}{% endcapture %}
    {% if forloop.first %}
    <ul class="archive-list">
      <li class="archive-year">{{ this_year }}
        <ul>
          <li class="archive-month">{{ this_month }}
            <ul>
    {% endif %}
              <li class="post-item">
                <span class="post-date">{{ post.date | date: "%F" }}</span>
                <a class="post-link" href="{{ post.url | prepend: site.baseurl }}">{{ post.title | escape }}</a>
              </li>
    {% if forloop.last %}
            </ul>
          </li>
        </ul>
      </li>
    </ul>
    {% elsif this_year != prev_year %}
            </ul>
          </li>
        </ul>
      </li>
      <li class="archive-year">{{ prev_year }}
        <ul>
          <li class="archive-month">{{ prev_month }}
            <ul>
    {% elsif this_month != prev_month %}
            </ul>
          </li>
          <li class="archive-month">{{ prev_month }}
            <ul>
    {% endif %}
  {% endif %}{% endfor %}
</div>
